{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/saalem/schedulr-ai/apps/web/components/DatePicker.tsx"],"sourcesContent":["\"use client\";\n\nimport { addDays, format, parseISO } from \"date-fns\";\n// Month calendar deps (weâ€™ll use soon)\nimport { DayPicker } from \"react-day-picker\";\nimport \"react-day-picker/dist/style.css\";\n\ntype Props = {\n  value: string; // YYYY-MM-DD\n  onChange: (iso: string) => void;\n  variant?: \"strip\" | \"month\";\n  days?: number; // used for strip; default 14\n  startDateISO?: string; // optional start for strip\n};\n\nexport default function DatePicker({\n  value,\n  onChange,\n  variant = \"strip\",\n  days = 14,\n  startDateISO,\n}: Props) {\n  if (variant === \"strip\") {\n    const start = startDateISO ? parseISO(startDateISO) : new Date();\n    const dates = Array.from({ length: days }, (_, i) => addDays(start, i));\n\n    return (\n      <div className=\"flex gap-2 overflow-x-auto py-2\">\n        {dates.map((d) => {\n          const iso = format(d, \"yyyy-MM-dd\");\n          const active = value === iso;\n\n          return (\n            <button\n              key={iso}\n              onClick={() => onChange(iso)}\n              className={`min-w-[88px] rounded-lg border px-3 py-2 text-left hover:opacity-80 ${\n                active ? \"border-black opacity-60\" : \"\"\n              }`}\n            >\n              <div className=\"text-xs text-gray-500\">{format(d, \"EEE\")}</div>\n              <div className=\"text-sm font-medium\">{format(d, \"MMM d\")}</div>\n            </button>\n          );\n        })}\n      </div>\n    );\n  }\n\n  // Month grid variant (Calendly-style)\n  const selected = value ? parseISO(value) : undefined;\n\n  return (\n    <div className=\"rounded-lg border p-2\">\n      <DayPicker\n        mode=\"single\"\n        selected={selected}\n        onSelect={(d) => {\n          if (!d) return;\n          onChange(format(d, \"yyyy-MM-dd\"));\n        }}\n        weekStartsOn={0}\n      />\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AACA,uCAAuC;AACvC;AAJA;;;;;AAee,SAAS,WAAW,EACjC,KAAK,EACL,QAAQ,EACR,UAAU,OAAO,EACjB,OAAO,EAAE,EACT,YAAY,EACN;IACN,IAAI,YAAY,SAAS;QACvB,MAAM,QAAQ,eAAe,IAAA,mJAAQ,EAAC,gBAAgB,IAAI;QAC1D,MAAM,QAAQ,MAAM,IAAI,CAAC;YAAE,QAAQ;QAAK,GAAG,CAAC,GAAG,IAAM,IAAA,iJAAO,EAAC,OAAO;QAEpE,qBACE,6PAAC;YAAI,WAAU;sBACZ,MAAM,GAAG,CAAC,CAAC;gBACV,MAAM,MAAM,IAAA,+JAAM,EAAC,GAAG;gBACtB,MAAM,SAAS,UAAU;gBAEzB,qBACE,6PAAC;oBAEC,SAAS,IAAM,SAAS;oBACxB,WAAW,CAAC,oEAAoE,EAC9E,SAAS,4BAA4B,IACrC;;sCAEF,6PAAC;4BAAI,WAAU;sCAAyB,IAAA,+JAAM,EAAC,GAAG;;;;;;sCAClD,6PAAC;4BAAI,WAAU;sCAAuB,IAAA,+JAAM,EAAC,GAAG;;;;;;;mBAP3C;;;;;YAUX;;;;;;IAGN;IAEA,sCAAsC;IACtC,MAAM,WAAW,QAAQ,IAAA,mJAAQ,EAAC,SAAS;IAE3C,qBACE,6PAAC;QAAI,WAAU;kBACb,cAAA,6PAAC,+KAAS;YACR,MAAK;YACL,UAAU;YACV,UAAU,CAAC;gBACT,IAAI,CAAC,GAAG;gBACR,SAAS,IAAA,+JAAM,EAAC,GAAG;YACrB;YACA,cAAc;;;;;;;;;;;AAItB"}},
    {"offset": {"line": 90, "column": 0}, "map": {"version":3,"sources":["file:///Users/saalem/schedulr-ai/apps/web/app/lib/api.ts"],"sourcesContent":["import { getSession } from \"next-auth/react\";\n\nconst API_BASE = process.env.NEXT_PUBLIC_API_BASE ?? \"http://localhost:8000\";\n\n// dev-only helper: store email in localStorage\nexport function getDevEmail() {\n  if (typeof window === \"undefined\") return null;\n  return window.localStorage.getItem(\"dev_email\");\n}\n\nasync function getAuthEmail() {\n  const session = await getSession();\n  const sessionEmail = session?.user?.email ?? null;\n  if (sessionEmail) return sessionEmail;\n\n  // Only allow dev fallback in development\n  if (process.env.NODE_ENV === \"development\") {\n    return getDevEmail();\n  }\n\n  return null;\n}\n\nexport async function apiFetch(path: string, init: RequestInit = {}) {\n  const email = await getAuthEmail();\n\n  const headers = new Headers(init.headers);\n\n  // Only set content-type when we're actually sending JSON\n  const hasBody = init.body !== undefined && init.body !== null;\n  if (hasBody && !headers.has(\"Content-Type\")) {\n    headers.set(\"Content-Type\", \"application/json\");\n  }\n\n  if (email) headers.set(\"X-User-Email\", email);\n\n  const res = await fetch(`${API_BASE}${path}`, {\n    ...init,\n    headers,\n    cache: \"no-store\",\n  });\n\n  if (!res.ok) {\n    let detail = `HTTP ${res.status}`;\n    try {\n      const body = await res.json();\n      detail = body?.detail || JSON.stringify(body);\n    } catch {\n      try {\n        detail = await res.text();\n      } catch {}\n    }\n    throw new Error(detail);\n  }\n\n  return res;\n}\n"],"names":[],"mappings":";;;;;;AAAA;;AAEA,MAAM,WAAW,6DAAoC;AAG9C,SAAS;IACd,wCAAmC,OAAO;;;AAE5C;AAEA,eAAe;IACb,MAAM,UAAU,MAAM,IAAA,4JAAU;IAChC,MAAM,eAAe,SAAS,MAAM,SAAS;IAC7C,IAAI,cAAc,OAAO;IAEzB,yCAAyC;IACzC,wCAA4C;QAC1C,OAAO;IACT;;;AAGF;AAEO,eAAe,SAAS,IAAY,EAAE,OAAoB,CAAC,CAAC;IACjE,MAAM,QAAQ,MAAM;IAEpB,MAAM,UAAU,IAAI,QAAQ,KAAK,OAAO;IAExC,yDAAyD;IACzD,MAAM,UAAU,KAAK,IAAI,KAAK,aAAa,KAAK,IAAI,KAAK;IACzD,IAAI,WAAW,CAAC,QAAQ,GAAG,CAAC,iBAAiB;QAC3C,QAAQ,GAAG,CAAC,gBAAgB;IAC9B;IAEA,IAAI,OAAO,QAAQ,GAAG,CAAC,gBAAgB;IAEvC,MAAM,MAAM,MAAM,MAAM,GAAG,WAAW,MAAM,EAAE;QAC5C,GAAG,IAAI;QACP;QACA,OAAO;IACT;IAEA,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,IAAI,SAAS,CAAC,KAAK,EAAE,IAAI,MAAM,EAAE;QACjC,IAAI;YACF,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,SAAS,MAAM,UAAU,KAAK,SAAS,CAAC;QAC1C,EAAE,OAAM;YACN,IAAI;gBACF,SAAS,MAAM,IAAI,IAAI;YACzB,EAAE,OAAM,CAAC;QACX;QACA,MAAM,IAAI,MAAM;IAClB;IAEA,OAAO;AACT"}},
    {"offset": {"line": 147, "column": 0}, "map": {"version":3,"sources":["file:///Users/saalem/schedulr-ai/apps/web/app/dashboard/%5BbusinessId%5D/DashboardClient.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useMemo, useState } from \"react\";\nimport DatePicker from \"@/components/DatePicker\";\nimport { signOut, useSession } from \"next-auth/react\";\nimport { apiFetch } from \"../../lib/api\";\n\ntype Appointment = {\n  id: number;\n  business_id: number;\n  service_id: number;\n  customer_name: string;\n  customer_email: string;\n  start_at: string;\n  end_at: string;\n  status: string;\n};\n\nfunction isoDayRange(dateStr: string) {\n  const start = `${dateStr}T00:00:00-08:00`;\n  const endDate = new Date(`${dateStr}T00:00:00-08:00`);\n  endDate.setDate(endDate.getDate() + 1);\n  const y = endDate.getFullYear();\n  const m = String(endDate.getMonth() + 1).padStart(2, \"0\");\n  const d = String(endDate.getDate()).padStart(2, \"0\");\n  const end = `${y}-${m}-${d}T00:00:00-08:00`;\n  return { start, end };\n}\n\ntype Service = { id: number; business_id: number; name: string; duration_min: number };\ntype AvailabilityApi = { id: number; business_id: number; day_of_week: string; open_time: string; close_time: string };\n\nconst DOWS = [\"mon\",\"tue\",\"wed\",\"thu\",\"fri\",\"sat\",\"sun\"] as const;\nconst DOW_LABEL: Record<string,string> = { mon:\"Mon\", tue:\"Tue\", wed:\"Wed\", thu:\"Thu\", fri:\"Fri\", sat:\"Sat\", sun:\"Sun\" };\n\ntype HoursRow = {\n  day_of_week: (typeof DOWS)[number];\n  open_time: string;\n  close_time: string;\n  enabled: boolean;\n};\n\nfunction normalizeAvailability(rows: AvailabilityApi[]): HoursRow[] {\n  const map = new Map(rows.map((r) => [r.day_of_week, r]));\n  return DOWS.map((dow) => {\n    const r = map.get(dow);\n    if (r) {\n      return { day_of_week: dow, open_time: r.open_time, close_time: r.close_time, enabled: true };\n    }\n    return { day_of_week: dow, open_time: \"09:00\", close_time: \"17:00\", enabled: false };\n  });\n}\n\ntype Business = { id: number; name: string; slug: string; timezone: string };\n\nexport default function DashboardClient({ businessId }: { businessId: string }) {\n  const { status } = useSession();\n\n  const [date, setDate] = useState(() => new Date().toISOString().slice(0, 10));\n  const { start, end } = useMemo(() => isoDayRange(date), [date]);\n\n  const [appts, setAppts] = useState<Appointment[]>([]);\n  const [loading, setLoading] = useState(false);\n\n  const [services, setServices] = useState<Service[]>([]);\n  const [hours, setHours] = useState<HoursRow[]>([]);\n  const [savingServices, setSavingServices] = useState(false);\n  const [savingHours, setSavingHours] = useState(false);\n\n  const [biz, setBiz] = useState<Business | null>(null);\n  const [copied, setCopied] = useState(false);\n\n  const [googleConnected, setGoogleConnected] = useState<boolean | null>(null);\n  const [googleCalendarId, setGoogleCalendarId] = useState<string | null>(null);\n\n  const authed = status === \"authenticated\";\n\n  // --- Appointments ---\n  useEffect(() => {\n    if (!businessId) return;\n    if (!authed) return;\n\n    setLoading(true);\n    apiFetch(\n      `/businesses/${businessId}/appointments?start=${encodeURIComponent(start)}&end=${encodeURIComponent(end)}`\n    )\n      .then((res) => res.json())\n      .then(setAppts)\n      .catch(console.error)\n      .finally(() => setLoading(false));\n  }, [businessId, start, end, authed]);\n\n  // --- Services + Availability ---\n  useEffect(() => {\n    if (!businessId) return;\n    if (!authed) return;\n\n    apiFetch(`/businesses/${businessId}/services`)\n      .then((r) => r.json())\n      .then(setServices)\n      .catch(console.error);\n\n    apiFetch(`/businesses/${businessId}/availability`)\n      .then((r) => r.json())\n      .then((rows: AvailabilityApi[]) => setHours(normalizeAvailability(rows)))\n      .catch(console.error);\n  }, [businessId, authed]);\n\n  // --- Business header info ---\n  useEffect(() => {\n    if (!businessId) return;\n    if (!authed) return;\n\n    apiFetch(`/businesses/${businessId}`)\n      .then((r) => r.json())\n      .then(setBiz)\n      .catch(console.error);\n  }, [businessId, authed]);\n\n  function copyBookingLink() {\n    if (!biz?.slug) return;\n    const url = `${window.location.origin}/b/${biz.slug}`;\n    navigator.clipboard.writeText(url).then(() => {\n      setCopied(true);\n      setTimeout(() => setCopied(false), 1500);\n    });\n  }\n\n  // --- Google integration status ---\n  useEffect(() => {\n    if (!businessId) return;\n    if (!authed) return;\n\n    apiFetch(`/businesses/${businessId}/integrations/google/status`)\n      .then((r) => r.json())\n      .then((data) => {\n        setGoogleConnected(data.connected);\n        setGoogleCalendarId(data.calendar_id ?? null);\n      })\n      .catch(console.error);\n  }, [businessId, authed]);\n\n  async function connectGoogle() {\n    const res = await apiFetch(`/businesses/${businessId}/integrations/google/start`);\n    const data = await res.json();\n    window.location.href = data.auth_url;\n  }\n\n  // --- Mutations ---\n  async function addService() {\n    setSavingServices(true);\n    try {\n      const res = await apiFetch(`/businesses/${businessId}/services`, {\n        method: \"POST\",\n        body: JSON.stringify({ name: \"New Service\", duration_min: 30 }),\n      });\n      const created = await res.json();\n      setServices((prev) => [...prev, created]);\n    } finally {\n      setSavingServices(false);\n    }\n  }\n\n  async function saveServicePatch(serviceId: number, patch: Partial<{ name: string; duration_min: number }>) {\n    const res = await apiFetch(`/services/${serviceId}`, {\n      method: \"PATCH\",\n      body: JSON.stringify(patch),\n    });\n    const updated = await res.json();\n    setServices((prev) => prev.map((s) => (s.id === serviceId ? updated : s)));\n  }\n\n  async function deleteService(serviceId: number) {\n    await apiFetch(`/services/${serviceId}`, { method: \"DELETE\" });\n    setServices((prev) => prev.filter((s) => s.id !== serviceId));\n  }\n\n  async function saveHours() {\n    setSavingHours(true);\n    try {\n      const payload = hours\n        .filter((h) => h.enabled)\n        .map((h) => ({\n          day_of_week: h.day_of_week,\n          open_time: h.open_time,\n          close_time: h.close_time,\n        }));\n\n      const res = await apiFetch(`/businesses/${businessId}/availability`, {\n        method: \"PUT\",\n        body: JSON.stringify(payload),\n      });\n\n      const updated = (await res.json()) as AvailabilityApi[];\n      setHours(normalizeAvailability(updated));\n    } finally {\n      setSavingHours(false);\n    }\n  }\n  return (\n    <main className=\"min-h-screen p-8\">\n        <div className=\"mx-auto max-w-4xl space-y-6\">\n        <div className=\"flex items-start justify-between gap-4\">\n        <div>\n          <h1 className=\"text-3xl font-bold\">Admin Dashboard</h1>\n          <div className=\"text-gray-600 font-mono mt-1\">\n            {biz?.name ?? businessId}\n          </div>\n        </div>\n\n        {biz?.slug && (\n          <button\n            onClick={copyBookingLink}\n            className=\"rounded border px-3 py-2 text-sm hover:bg-gray-50\"\n          >\n            {copied ? \"Copied!\" : \"Copy booking link\"}\n          </button>\n        )}\n\n        <button\n      onClick={() => signOut({ callbackUrl: \"/login\" })}\n      style={{ padding: \"10px 14px\", borderRadius: 8, border: \"1px solid #ccc\" }}\n    >\n      Sign out\n        </button>\n      </div>\n\n\n      <section className=\"border rounded-lg p-4\">\n        <div className=\"flex items-center justify-between\">\n          <h2 className=\"text-xl font-semibold\">Google Calendar</h2>\n\n          {googleConnected ? (\n            <span className=\"text-sm text-green-700\">Connected</span>\n          ) : (\n            <button\n              onClick={() => connectGoogle().catch(console.error)}\n              className=\"rounded border px-3 py-2 text-sm hover:bg-gray-50\"\n            >\n              Connect Google Calendar\n            </button>\n          )}\n        </div>\n\n        <div className=\"mt-2 text-sm text-gray-600\">\n          {googleConnected\n            ? `Bookings will be written to your Google Calendar (${googleCalendarId ?? \"primary\"}).`\n            : \"Connect to prevent double-booking and automatically add bookings to your calendar.\"}\n        </div>\n      </section>\n\n      <section className=\"border rounded-lg p-4\">\n        <h2 className=\"text-xl font-semibold\">Pick a day</h2>\n        <div className=\"mt-2\">\n          <DatePicker value={date} onChange={setDate} variant=\"strip\" days={14} />\n        </div>\n      </section>\n\n      <section className=\"border rounded-lg p-4\">\n        <div className=\"flex items-center justify-between\">\n          <h2 className=\"text-xl font-semibold\">Appointments</h2>\n          <div className=\"text-sm text-gray-600\">\n            {loading ? \"Loading...\" : `${appts.length} booking(s)`}\n          </div>\n        </div>\n\n        {appts.length === 0 && !loading ? (\n          <p className=\"mt-3 text-gray-500\">No appointments for this day.</p>\n        ) : (\n          <ul className=\"mt-3 space-y-2\">\n            {appts.map((a) => (\n              <li key={a.id} className=\"rounded border p-3\">\n                <div className=\"flex items-center justify-between gap-4\">\n                  <div>\n                    <div className=\"font-medium\">{a.customer_name}</div>\n                    <div className=\"text-sm text-gray-600\">{a.customer_email}</div>\n                  </div>\n                  <div className=\"text-sm font-mono text-right\">\n                    <div>{a.start_at}</div>\n                    <div className=\"text-gray-600\">{a.status}</div>\n                  </div>\n                </div>\n              </li>\n            ))}\n          </ul>\n        )}\n      </section>\n\n\n      <section className=\"border rounded-lg p-4\">\n        <div className=\"flex items-center justify-between\">\n          <h2 className=\"text-xl font-semibold\">Hours</h2>\n          <button\n            onClick={() => saveHours().catch(console.error)}\n            className=\"rounded border px-3 py-2 text-sm hover:bg-gray-50 disabled:opacity-50\"\n            disabled={savingHours}\n          >\n            {savingHours ? \"Saving...\" : \"Save hours\"}\n          </button>\n        </div>\n\n        <div className=\"mt-3 space-y-2\">\n          {hours.map((row) => (\n            <div key={row.day_of_week} className=\"grid grid-cols-12 items-center gap-2\">\n              <div className=\"col-span-2 text-sm font-medium\">{DOW_LABEL[row.day_of_week]}</div>\n\n              <div className=\"col-span-2\">\n                <label className=\"flex items-center gap-2 text-sm text-gray-700\">\n                  <input\n                    type=\"checkbox\"\n                    checked={row.enabled}\n                    onChange={(e) => {\n                      const enabled = e.target.checked;\n                      setHours((prev) =>\n                        prev.map((x) => (x.day_of_week === row.day_of_week ? { ...x, enabled } : x))\n                      );\n                    }}\n                  />\n                  Open\n                </label>\n              </div>\n\n              <div className=\"col-span-4\">\n                <input\n                  type=\"time\"\n                  className=\"w-full rounded border px-2 py-1 disabled:bg-gray-100\"\n                  value={row.open_time}\n                  disabled={!row.enabled}\n                  onChange={(e) => {\n                    const open_time = e.target.value;\n                    setHours((prev) =>\n                      prev.map((x) => (x.day_of_week === row.day_of_week ? { ...x, open_time } : x))\n                    );\n                  }}\n                />\n              </div>\n\n              <div className=\"col-span-4\">\n                <input\n                  type=\"time\"\n                  className=\"w-full rounded border px-2 py-1 disabled:bg-gray-100\"\n                  value={row.close_time}\n                  disabled={!row.enabled}\n                  onChange={(e) => {\n                    const close_time = e.target.value;\n                    setHours((prev) =>\n                      prev.map((x) => (x.day_of_week === row.day_of_week ? { ...x, close_time } : x))\n                    );\n                  }}\n                />\n              </div>\n            </div>\n          ))}\n        </div>\n      </section>\n\n\n        <section className=\"border rounded-lg p-4\">\n          <div className=\"flex items-center justify-between\">\n            <h2 className=\"text-xl font-semibold\">Services</h2>\n            <button\n              onClick={addService}\n              className=\"rounded border px-3 py-2 text-sm hover:bg-gray-50 disabled:opacity-50\"\n              disabled={savingServices}\n            >\n              + Add service\n            </button>\n          </div>\n\n          {services.length === 0 ? (\n            <p className=\"mt-3 text-gray-500\">No services yet.</p>\n          ) : (\n            <ul className=\"mt-3 space-y-2\">\n              {services.map((s) => (\n                <li key={s.id} className=\"rounded border p-3\">\n                  <div className=\"grid grid-cols-1 gap-2 md:grid-cols-12 md:items-center\">\n                    <div className=\"md:col-span-6\">\n                      <label className=\"text-xs text-gray-500\">Name</label>\n                      <input\n                        className=\"mt-1 w-full rounded border px-2 py-1\"\n                        value={s.name}\n                        onChange={(e) =>\n                          setServices((prev) =>\n                            prev.map((x) => (x.id === s.id ? { ...x, name: e.target.value } : x))\n                          )\n                        }\n                        onBlur={() => saveServicePatch(s.id, { name: s.name }).catch(console.error)}\n                      />\n                    </div>\n\n                    <div className=\"md:col-span-3\">\n                      <label className=\"text-xs text-gray-500\">Duration (min)</label>\n                      <input\n                        type=\"number\"\n                        min={5}\n                        max={480}\n                        className=\"mt-1 w-full rounded border px-2 py-1\"\n                        value={s.duration_min}\n                        onChange={(e) =>\n                          setServices((prev) =>\n                            prev.map((x) =>\n                              x.id === s.id ? { ...x, duration_min: Number(e.target.value) } : x\n                            )\n                          )\n                        }\n                        onBlur={() => saveServicePatch(s.id, { duration_min: s.duration_min }).catch(console.error)}\n                      />\n                    </div>\n\n                    <div className=\"md:col-span-3 md:text-right\">\n                      <button\n                        onClick={() => deleteService(s.id).catch(console.error)}\n                        className=\"mt-4 md:mt-0 rounded border px-3 py-2 text-sm hover:bg-gray-50\"\n                      >\n                        Delete\n                      </button>\n                    </div>\n                  </div>\n                </li>\n              ))}\n            </ul>\n          )}\n        </section>\n\n        <section className=\"border rounded-lg p-4\">\n          <h2 className=\"text-xl font-semibold\">Metrics</h2>\n          <div className=\"mt-2 text-gray-600 text-sm\">\n            (MVP) Bookings/day, peak hours, cancellations/no-shows come next.\n          </div>\n        </section>\n      </div>\n    </main>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}